define(function(e){function t(){o.getJSON("/before/video/getSubjectList.do",function(e){if("0000000"==e.rtnCode){for(var t=e.bizData,a=0;a<t.length;a++){var r=t[a].subjectName,n=t[a].subjectId,s='<li id="'+n+'">'+r+"</li>";o(".subjectList").append(s)}o(".subjectList").find("li:eq(0)").click()}})}function a(e,t,a){o(e).html("").hide(),o.getJSON("/before/video/getVideoList.do",{pageNo:0,pageSize:4,classifyType:a,sortType:1,subjectId:t},function(t){if("0800001"==t.rtnCode&&o(e).html(n("暂时没有数据，请耐心等待哦")),"0000000"==t.rtnCode)for(var r=t.bizData,i=0;i<r.length;i++){var c=r[i].subjectName,l=r[i].teacherName,d=r[i].courseId,p=r[i].hit,f=r[i].subcontent,m="/before/teacher-lecture-play.jsp?classifyType="+a+"&courseId="+d,u="";u=null==r[i].frontCover||""==r[i].frontCover?"/static/dist/common/images/video-default.png":s+r[i].frontCover;var v='<li class="item"><div class="img"><img src="'+u+'" alt=""/></div><div class="info"><span class="fl">学科名称:'+c+'</span><span class="fr">主讲专家:'+l+'</span></div><div class="num"><span class="fl">点击量:'+p+'</span></div><p class="txt">'+f+'</p><div class="funs"><a target="_blank" href="'+m+'" class="btn">点击播放</a></div></li>';o(e).append(v).fadeIn(500)}})}function r(e,t,a){o(e).html("").hide(),o.getJSON("/before/paper/getPaperList.do",{pageNo:0,pageSize:8,years:"2014",sortType:1,subjectId:t},function(t){if("0800001"==t.rtnCode&&o(e).html(n("暂时没有数据，请耐心等待哦")),"0000000"==t.rtnCode)for(var r=t.bizData,i=0;i<r.length;i++){var c=r[i].paperName,l=r[i].createDate,d=r[i].resources,p='<li class="item"><a target="_blank" href="'+s+d+'"><span class="subject-n"><strong>'+a+'</strong></span><span class="subject-t">'+c+'</span><span class="subject-d">上传时间：'+getTime(l)+"</span></a></li>";o(e).append(p).fadeIn(500)}})}var o=e("$");e("swiper"),e("getTime"),e("backToTop");var n=e("pageErrorTip");o(".tabs-list").on("click","li",function(){o(this).addClass("active").siblings().removeClass("active");var e=o(this).attr("id"),t=o(this).parent().attr("classifyType"),n=o(this).text();"1"==t&&a("#teacher-lecture-main",e,1),"2"==t&&a("#mentality-main",e,2),"3"==t&&r("#exam-main",e,n)});var s="http://www.gkzy114.com";t(),o("#teacher-lecture-search-btn").on("click",function(){var e=o("#teacher-lecture-search-input").val();window.open("/before/teacher-lecture.jsp?classifyType=1&searchV="+e)}),o("#exam-search-btn").on("click",function(){var e=o("#exam-search-input").val();window.open("/before/exam.jsp?searchV="+e)}),o("#mentality-search-btn").on("click",function(){var e=o("#mentality-search-input").val();window.open("/before/mentality.jsp?classifyType=2&searchV="+e)}),o("#main-volunteer-tabs").on("click","li",function(){o(this).addClass("active").siblings().removeClass("active");var e=o(this).index();o(".main-volunteer-box:eq("+e+")").show().siblings(".main-volunteer-box").hide()}),o(".evaluating-layer").on("click",".close-btn",function(){o(".tansLayer,.evaluating-layer").hide()}),o("#volunteer-flow, #volunteer-flow1").on("click",function(){o("#main-volunteer-tabs li").eq(1).click(),o("html,body").animate({scrollTop:o("#main-volunteer-box").offset().top},800)});var i=window.location.search,c=i.substr(14,1);"4"==c&&(o("#main-volunteer-tabs li").eq(1).click(),o("html,body").animate({scrollTop:o("#main-volunteer-box").offset().top},800)),o("#college-yzm").on("click",function(){o("#college-yzm").attr("src","/verifyCode/randomVerifyCode.do?type=1&code="+Math.random())}).attr("src","/verifyCode/randomVerifyCode.do?type=1"),o("#yxtj-sub").on("click",function(){var e=o("#score-input").val().trim(),t=o('input[name="batch"]:checked').val(),a=o('input[name="subjectType"]:checked').val(),r=o("#yzmCollege").val().trim();return""==e?(o(".error-tips").text("请输入分数").fadeIn(1e3).fadeOut(1e3),!1):void 0==t?(o(".error-tips").text("请选择批次").fadeIn(1e3).fadeOut(1e3),!1):void 0==a?(o(".error-tips").text("请选择文理科").fadeIn(1e3).fadeOut(1e3),!1):""==r?(o(".error-tips").text("请填写验证码").fadeIn(1e3).fadeOut(1e3),!1):void o.ajax({url:"/before/collegeRecommend/getCollegeList.do",type:"GET",dataType:"JSON",data:{m_aggregateScore:e,m_batch:t,m_kelei:a,code:r},success:function(r){if(console.log(r),"0100006"==r.rtnCode||"1000004"==r.rtnCode||"0100005"==r.rtnCode)return void o(".error-tips").text(r.msg).fadeIn(1e3).fadeOut(1e3);if("0000000"==r.rtnCode){o("#volunteer-flow3-layer,.tansLayer").show(),o("#score-num").text(e+"分"),o("#batchV").text(t),o("#subjectTypeV").text(a);var n=o.parseJSON(r.bizData),s=n.result.data;if(!s)return void o(".error-tips").text(r.msg).fadeIn(1e3).fadeOut(1e3);for(var i=0;i<s.length;i++)if(0==s[i].status)o("#no-school"+i).show();else for(var c=s[i].data,l=0;l<c.length;l++){var d=c[l].m_university_code,p=c[l].m_university_name,f='<div><a target="_blank" href="/consult/school_detile.jsp?id='+d+'">'+p+"</a></div>";o("#school-list"+i).append(f).show()}}}})}),o("#volunteer-flow3-layer").on("click",".close-btn",function(){o("#volunteer-flow3-layer,.tansLayer").hide(),o("#college-yzm").attr("src","/verifyCode/randomVerifyCode.do?type=1&code="+Math.random())}),o("#dreanSchoolBtn").on("click",function(){o("#volunteer-flow3-layer,.tansLayer").hide(),o("#college-yzm").attr("src","/verifyCode/randomVerifyCode.do?type=1&code="+Math.random()),o("#main-volunteer-tabs li:eq(0)").click()}),o("#yzmDreamSchool").on("click",function(){o("#yzmDreamSchool").attr("src","/verifyCode/randomVerifyCode.do?type=2&code="+Math.random())}).attr("src","/verifyCode/randomVerifyCode.do?type=2"),o("#evaluating-sub").on("click",function(){var e=o("#dream-score-input").val().trim(),t=o("#dream-school-input").val().trim(),a=o('input[name="dreamSubjectType"]:checked').val(),r=o("#yzmDream").val();return""==e?(o(".error-tips").text("请输入分数").fadeIn(1e3).fadeOut(1e3),!1):""==t?(o(".error-tips").text("请输入院校").fadeIn(1e3).fadeOut(1e3),!1):void 0==a?(o(".error-tips").text("请选择文理科").fadeIn(1e3).fadeOut(1e3),!1):""==r?(o(".error-tips").text("请填写验证码").fadeIn(1e3).fadeOut(1e3),!1):void o.ajax({url:"/appraisal/schoolTest.do",type:"GET",dataType:"JSON",data:{m_aggregateScore:e,m_university_name:t,m_kelei:a,code:r},success:function(r){if("1000006"==r.rtnCode||"1000004"==r.rtnCode)return void o(".error-tips").text(r.msg).fadeIn(1e3).fadeOut(1e3);var n=o.parseJSON(r.bizData);if(console.log(n),!n)return void o(".error-tips").text(r.msg).fadeIn(1e3).fadeOut(1e3);if("0000000"==r.rtnCode){o("#dream-list").html(""),o("#dream-school-layer,.tansLayer").show(),o("#dreamScoreInfo").text(e),o("#dreamSubjectTypeInfo").text(a),o("#dreamSchoolInfo").text(t);for(var s=0;s<n.data.length;s++){var i=n.data[s].m_averagescores,c=n.data[s].m_batch,l=n.data[s].m_lowestscore,d='<ul><li class="pc">'+c+'</li><li class="result1"><span class="t">所需最低分数</span><span class="num"><strong>'+l+'</strong>分</span></li><li class="result2"><span class="t">所需平均分数</span><span class="num"><strong>'+i+"</strong>分</span></li></ul>";o("#dream-list").append(d)}}}})}),o("#dream-school-layer").on("click",".close-btn",function(){o("#dream-school-layer,.tansLayer").hide(),o("#yzmDreamSchool").attr("src","/verifyCode/randomVerifyCode.do?type=2&code="+Math.random())}),o("#precedence-yzmDreamSchool").on("click",function(){o("#precedence-yzmDreamSchool").attr("src","/verifyCode/randomVerifyCode.do?type=3&code="+Math.random())}).attr("src","/verifyCode/randomVerifyCode.do?type=3"),o("#precedence-sub").on("click",function(e){var t=o("#precedence-score-input").val().trim(),a=o("#precedence-yzmDream").val();return""==t?(o(".error-tips").text("请输入分数").fadeIn(1e3).fadeOut(1e3),!1):""==a?(o(".error-tips").text("请填写验证码").fadeIn(1e3).fadeOut(1e3),!1):void o.ajax({url:"/appraisal/findRanking.do",type:"GET",dataType:"JSON",data:{m_aggregateScore:t,code:a},success:function(e){if("1000006"==e.rtnCode||"1000004"==e.rtnCode)return void o(".error-tips").text(e.msg).fadeIn(1e3).fadeOut(1e3);var a=o.parseJSON(e.bizData);if(!a)return void o(".error-tips").text(e.msg).fadeIn(1e3).fadeOut(1e3);if("0000000"==e.rtnCode){o("#precedence-list").html(""),o("#precedence-school-layer,.tansLayer").show(),o("#precedenceScoreInfo").text(t),o("#current-year").text(a.m_years);var r='<ul><li class="result1"><span class="t">文史类</span><span class="num"><b>'+(a.m_ws_ranking||"")+'</b>位</span></li><li class="result2"><span class="t">理工类</span><span class="num"><b>'+(a.m_lg_ranking||"")+"</b>位</span></li></ul>";o("#precedence-list").append(r),o("#confirm").on("click",function(e){o("#precedence-school-layer,.tansLayer").hide(),o("#precedence-yzmDreamSchool").attr("src","/verifyCode/randomVerifyCode.do?type=3&code="+Math.random())})}}})}),o("#precedence-school-layer").on("click",".close-btn",function(){o("#precedence-school-layer,.tansLayer").hide(),o("#precedence-yzmDreamSchool").attr("src","/verifyCode/randomVerifyCode.do?type=3&code="+Math.random())})});
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.thinkjoy.gk.dao.ITimerjobDAO">
<!--
insert
update
updateNull
deleteById
deleteByCondition
deleteByProperty
fetch
findOne
findList
findAll
queryPage
like
queryList
queryOne
count
selectMaxId
updateOrSave
selectOne
selectList
-->

    <sql id="Base_Column_List">
        id as id ,
        status as status ,
        create_time as createTime ,
        update_time as updateTime ,
        name as name ,
        group as group ,
        cronExpression as cronExpression ,
        desc as desc ,
        async as async ,
        className as className ,
        executeTime as executeTime ,
        executeNum as executeNum ,
        errorMessage as errorMessage 
    </sql>
    <insert id="insert" parameterType="Timerjob">
        INSERT INTO gk_timerjob (
        status,
        create_time,
        update_time,
        name,
        group,
        cronExpression,
        desc,
        async,
        className,
        executeTime,
        executeNum,
        errorMessage
        ) VALUES (
        #{status},
        #{createTime},
        #{updateTime},
        #{name},
        #{group},
        #{cronExpression},
        #{desc},
        #{async},
        #{className},
        #{executeTime},
        #{executeNum},
        #{errorMessage}
        )
            <selectKey resultType="java.lang.Long" keyProperty="id">
            SELECT LAST_INSERT_ID() AS ID
            </selectKey>
    </insert>

    <!-- 更新 -->
    <update id="update" parameterType="Timerjob">
        UPDATE gk_timerjob
        <trim prefix="SET" suffixOverrides=",">
            <if test="status!=null">
                status = #{status},
            </if>
            <if test="createTime!=null">
                create_time = #{createTime},
            </if>
            <if test="updateTime!=null">
                update_time = #{updateTime},
            </if>
            <if test="name!=null">
                name = #{name},
            </if>
            <if test="group!=null">
                group = #{group},
            </if>
            <if test="cronExpression!=null">
                cronExpression = #{cronExpression},
            </if>
            <if test="desc!=null">
                desc = #{desc},
            </if>
            <if test="async!=null">
                async = #{async},
            </if>
            <if test="className!=null">
                className = #{className},
            </if>
            <if test="executeTime!=null">
                executeTime = #{executeTime},
            </if>
            <if test="executeNum!=null">
                executeNum = #{executeNum},
            </if>
            <if test="errorMessage!=null">
                errorMessage = #{errorMessage},
            </if>
        </trim>
        WHERE
        id = #{id}
    </update>

    <update id="updateMap">
        UPDATE gk_timerjob
        <trim prefix="SET" suffixOverrides=",">
            <if test="map.status!=null">
                status = #{map.status},
            </if>
            <if test="map.createTime!=null">
                create_time = #{map.createTime},
            </if>
            <if test="map.updateTime!=null">
                update_time = #{map.updateTime},
            </if>
            <if test="map.name!=null">
                name = #{map.name},
            </if>
            <if test="map.group!=null">
                group = #{map.group},
            </if>
            <if test="map.cronExpression!=null">
                cronExpression = #{map.cronExpression},
            </if>
            <if test="map.desc!=null">
                desc = #{map.desc},
            </if>
            <if test="map.async!=null">
                async = #{map.async},
            </if>
            <if test="map.className!=null">
                className = #{map.className},
            </if>
            <if test="map.executeTime!=null">
                executeTime = #{map.executeTime},
            </if>
            <if test="map.executeNum!=null">
                executeNum = #{map.executeNum},
            </if>
            <if test="map.errorMessage!=null">
                errorMessage = #{map.errorMessage},
            </if>
        </trim>
        WHERE
        id = #{map.id}
    </update>

    <update id="updateByCondition">
        UPDATE gk_timerjob
        <trim prefix="SET" suffixOverrides=",">
            <if test="update.status!=null">
                status = #{update.status},
            </if>
            <if test="update.createTime!=null">
                create_time = #{update.createTime},
            </if>
            <if test="update.updateTime!=null">
                update_time = #{update.updateTime},
            </if>
            <if test="update.name!=null">
                name = #{update.name},
            </if>
            <if test="update.group!=null">
                group = #{update.group},
            </if>
            <if test="update.cronExpression!=null">
                cronExpression = #{update.cronExpression},
            </if>
            <if test="update.desc!=null">
                desc = #{update.desc},
            </if>
            <if test="update.async!=null">
                async = #{update.async},
            </if>
            <if test="update.className!=null">
                className = #{update.className},
            </if>
            <if test="update.executeTime!=null">
                executeTime = #{update.executeTime},
            </if>
            <if test="update.executeNum!=null">
                executeNum = #{update.executeNum},
            </if>
            <if test="update.errorMessage!=null">
                errorMessage = #{update.errorMessage},
            </if>
        </trim>

        <trim prefix="WHERE" prefixOverrides="AND | OR">
            <if test="condition.id!=null">
                AND id = #{condition.id}
            </if>
            <if test="condition.status!=null">
                AND status = #{condition.status}
            </if>
            <if test="condition.createTime!=null">
                AND create_time = #{condition.createTime}
            </if>
            <if test="condition.updateTime!=null">
                AND update_time = #{condition.updateTime}
            </if>
            <if test="condition.name!=null">
                AND name = #{condition.name}
            </if>
            <if test="condition.group!=null">
                AND group = #{condition.group}
            </if>
            <if test="condition.cronExpression!=null">
                AND cronExpression = #{condition.cronExpression}
            </if>
            <if test="condition.desc!=null">
                AND desc = #{condition.desc}
            </if>
            <if test="condition.async!=null">
                AND async = #{condition.async}
            </if>
            <if test="condition.className!=null">
                AND className = #{condition.className}
            </if>
            <if test="condition.executeTime!=null">
                AND executeTime = #{condition.executeTime}
            </if>
            <if test="condition.executeNum!=null">
                AND executeNum = #{condition.executeNum}
            </if>
            <if test="condition.errorMessage!=null">
                AND errorMessage = #{condition.errorMessage}
            </if>
        </trim>
    </update>

    <insert id="insertMap" >
        INSERT INTO gk_timerjob (
                status,
                create_time,
                update_time,
                name,
                group,
                cronExpression,
                desc,
                async,
                className,
                executeTime,
                executeNum,
                errorMessage
        ) VALUES (
                    #{map.status},
                    #{map.createTime},
                    #{map.updateTime},
                    #{map.name},
                    #{map.group},
                    #{map.cronExpression},
                    #{map.desc},
                    #{map.async},
                    #{map.className},
                    #{map.executeTime},
                    #{map.executeNum},
                    #{map.errorMessage}
        )
    </insert>


    <update id="updateNull" parameterType="Timerjob">
        UPDATE gk_timerjob
        <trim prefix="SET" suffixOverrides=",">
            status = #{status},
            create_time = #{createTime},
            update_time = #{updateTime},
            name = #{name},
            group = #{group},
            cronExpression = #{cronExpression},
            desc = #{desc},
            async = #{async},
            className = #{className},
            executeTime = #{executeTime},
            executeNum = #{executeNum},
            errorMessage = #{errorMessage},
        </trim>
        WHERE
        id = #{id} 
    </update>

    <!-- 按Id删除 -->
    <delete id="deleteById" parameterType="java.lang.Long">
        DELETE FROM gk_timerjob
        <trim prefix="WHERE" prefixOverrides="AND | OR">
            AND id = #{id}
        </trim>
    </delete>


    <delete id="deleteByCondition" parameterType="java.util.Map">
        DELETE FROM gk_timerjob
        <trim prefix="WHERE" prefixOverrides="AND | OR">
            <if test="id!=null">
                AND id = #{id}
            </if>
            <if test="status!=null">
                AND status = #{status}
            </if>
            <if test="createTime!=null">
                AND create_time = #{createTime}
            </if>
            <if test="updateTime!=null">
                AND update_time = #{updateTime}
            </if>
            <if test="name!=null">
                AND name = #{name}
            </if>
            <if test="group!=null">
                AND group = #{group}
            </if>
            <if test="cronExpression!=null">
                AND cronExpression = #{cronExpression}
            </if>
            <if test="desc!=null">
                AND desc = #{desc}
            </if>
            <if test="async!=null">
                AND async = #{async}
            </if>
            <if test="className!=null">
                AND className = #{className}
            </if>
            <if test="executeTime!=null">
                AND executeTime = #{executeTime}
            </if>
            <if test="executeNum!=null">
                AND executeNum = #{executeNum}
            </if>
            <if test="errorMessage!=null">
                AND errorMessage = #{errorMessage}
            </if>
        </trim>
    </delete>

    <delete id="deleteByProperty" parameterType="java.util.Map">
        DELETE FROM gk_timerjob WHERE
        ${property} = #{value}
    </delete>

    <select id="fetch" parameterType="java.lang.Long" resultType="Timerjob">
        SELECT
        <include refid="Base_Column_List" />
        FROM gk_timerjob
        <trim prefix="WHERE" prefixOverrides="AND | OR">
            AND id = #{id}
        </trim>
    </select>

    <select id="findOne" parameterType="java.util.Map" resultType="Timerjob">
        SELECT
        <include refid="Base_Column_List" />
        FROM gk_timerjob WHERE
        ${property} = #{value}
        <if test="orderBy!=null">
            ORDER BY ${orderBy} ${sortBy}
        </if>
        LIMIT 0,1
    </select>

    <select id="findList" parameterType="java.util.Map" resultType="Timerjob">
        SELECT
        <include refid="Base_Column_List" />
        FROM gk_timerjob WHERE
        ${property} = #{value}
        <if test="orderBy!=null">
            ORDER BY ${orderBy} ${sortBy}
        </if>
    </select>

    <select id="findAll" resultType="Timerjob">
        SELECT
        <include refid="Base_Column_List" />
        FROM gk_timerjob
        <if test="orderBy!=null">
            ORDER BY ${orderBy} ${sortBy}
        </if>
    </select>

    <select id="queryPage" resultType="Timerjob">
        SELECT
        <include refid="Base_Column_List" />
        FROM gk_timerjob
        <where>

            <if test="condition.whereSql != null">
                and id in (#{condition.whereSql})
            </if>

            <if test="condition.id!=null">
                ${condition.groupOp}   ${condition.id.field}  ${condition.id.op}  #{condition.id.data}
            </if>
            <if test="condition.status!=null">
                ${condition.groupOp}   ${condition.status.field}  ${condition.status.op}  #{condition.status.data}
            </if>
            <if test="condition.createTime!=null">
                ${condition.groupOp}   ${condition.createTime.field}  ${condition.createTime.op}  #{condition.createTime.data}
            </if>
            <if test="condition.updateTime!=null">
                ${condition.groupOp}   ${condition.updateTime.field}  ${condition.updateTime.op}  #{condition.updateTime.data}
            </if>
            <if test="condition.name!=null">
                ${condition.groupOp}   ${condition.name.field}  ${condition.name.op}  #{condition.name.data}
            </if>
            <if test="condition.group!=null">
                ${condition.groupOp}   ${condition.group.field}  ${condition.group.op}  #{condition.group.data}
            </if>
            <if test="condition.cronExpression!=null">
                ${condition.groupOp}   ${condition.cronExpression.field}  ${condition.cronExpression.op}  #{condition.cronExpression.data}
            </if>
            <if test="condition.desc!=null">
                ${condition.groupOp}   ${condition.desc.field}  ${condition.desc.op}  #{condition.desc.data}
            </if>
            <if test="condition.async!=null">
                ${condition.groupOp}   ${condition.async.field}  ${condition.async.op}  #{condition.async.data}
            </if>
            <if test="condition.className!=null">
                ${condition.groupOp}   ${condition.className.field}  ${condition.className.op}  #{condition.className.data}
            </if>
            <if test="condition.executeTime!=null">
                ${condition.groupOp}   ${condition.executeTime.field}  ${condition.executeTime.op}  #{condition.executeTime.data}
            </if>
            <if test="condition.executeNum!=null">
                ${condition.groupOp}   ${condition.executeNum.field}  ${condition.executeNum.op}  #{condition.executeNum.data}
            </if>
            <if test="condition.errorMessage!=null">
                ${condition.groupOp}   ${condition.errorMessage.field}  ${condition.errorMessage.op}  #{condition.errorMessage.data}
            </if>


    </where>
        <if test="orderBy!=null">
        ORDER BY ${orderBy} ${sortBy}
        </if>
        <if test="offset != null">
            limit ${offset}, ${rows}
        </if>
    </select>

    <select id="like" parameterType="java.util.Map" resultType="Timerjob">
        SELECT
        <include refid="Base_Column_List" />
        FROM gk_timerjob
        <trim prefix="WHERE" prefixOverrides="AND | OR">
            <if test="condition.id!=null">
                AND id like CONCAT('%', #{condition.id} , '%')
            </if>
            <if test="condition.status!=null">
                AND status like CONCAT('%', #{condition.status} , '%')
            </if>
            <if test="condition.createTime!=null">
                AND create_time like CONCAT('%', #{condition.createTime} , '%')
            </if>
            <if test="condition.updateTime!=null">
                AND update_time like CONCAT('%', #{condition.updateTime} , '%')
            </if>
            <if test="condition.name!=null">
                AND name like CONCAT('%', #{condition.name} , '%')
            </if>
            <if test="condition.group!=null">
                AND group like CONCAT('%', #{condition.group} , '%')
            </if>
            <if test="condition.cronExpression!=null">
                AND cronExpression like CONCAT('%', #{condition.cronExpression} , '%')
            </if>
            <if test="condition.desc!=null">
                AND desc like CONCAT('%', #{condition.desc} , '%')
            </if>
            <if test="condition.async!=null">
                AND async like CONCAT('%', #{condition.async} , '%')
            </if>
            <if test="condition.className!=null">
                AND className like CONCAT('%', #{condition.className} , '%')
            </if>
            <if test="condition.executeTime!=null">
                AND executeTime like CONCAT('%', #{condition.executeTime} , '%')
            </if>
            <if test="condition.executeNum!=null">
                AND executeNum like CONCAT('%', #{condition.executeNum} , '%')
            </if>
            <if test="condition.errorMessage!=null">
                AND errorMessage like CONCAT('%', #{condition.errorMessage} , '%')
            </if>
        </trim>
        <if test="orderBy!=null">
        ORDER BY ${orderBy} ${sortBy}
        </if>
    </select>


    <select id="queryList" parameterType="java.util.Map" resultType="Timerjob">
        SELECT
        <include refid="Base_Column_List" />
        FROM gk_timerjob
        <trim prefix="WHERE" prefixOverrides="AND | OR">
            <if test="condition.id!=null">
                AND id = #{condition.id}
            </if>
            <if test="condition.status!=null">
                AND status = #{condition.status}
            </if>
            <if test="condition.createTime!=null">
                AND create_time = #{condition.createTime}
            </if>
            <if test="condition.updateTime!=null">
                AND update_time = #{condition.updateTime}
            </if>
            <if test="condition.name!=null">
                AND name = #{condition.name}
            </if>
            <if test="condition.group!=null">
                AND group = #{condition.group}
            </if>
            <if test="condition.cronExpression!=null">
                AND cronExpression = #{condition.cronExpression}
            </if>
            <if test="condition.desc!=null">
                AND desc = #{condition.desc}
            </if>
            <if test="condition.async!=null">
                AND async = #{condition.async}
            </if>
            <if test="condition.className!=null">
                AND className = #{condition.className}
            </if>
            <if test="condition.executeTime!=null">
                AND executeTime = #{condition.executeTime}
            </if>
            <if test="condition.executeNum!=null">
                AND executeNum = #{condition.executeNum}
            </if>
            <if test="condition.errorMessage!=null">
                AND errorMessage = #{condition.errorMessage}
            </if>
        </trim>
        <if test="orderBy!=null">
        ORDER BY ${orderBy} ${sortBy}
        </if>
    </select>

    <select id="queryOne" parameterType="java.util.Map" resultType="Timerjob">
        SELECT
        <include refid="Base_Column_List" />
        FROM gk_timerjob
        <trim prefix="WHERE" prefixOverrides="AND | OR">
            <if test="condition.id!=null">
                AND id = #{condition.id}
            </if>
            <if test="condition.status!=null">
                AND status = #{condition.status}
            </if>
            <if test="condition.createTime!=null">
                AND create_time = #{condition.createTime}
            </if>
            <if test="condition.updateTime!=null">
                AND update_time = #{condition.updateTime}
            </if>
            <if test="condition.name!=null">
                AND name = #{condition.name}
            </if>
            <if test="condition.group!=null">
                AND group = #{condition.group}
            </if>
            <if test="condition.cronExpression!=null">
                AND cronExpression = #{condition.cronExpression}
            </if>
            <if test="condition.desc!=null">
                AND desc = #{condition.desc}
            </if>
            <if test="condition.async!=null">
                AND async = #{condition.async}
            </if>
            <if test="condition.className!=null">
                AND className = #{condition.className}
            </if>
            <if test="condition.executeTime!=null">
                AND executeTime = #{condition.executeTime}
            </if>
            <if test="condition.executeNum!=null">
                AND executeNum = #{condition.executeNum}
            </if>
            <if test="condition.errorMessage!=null">
                AND errorMessage = #{condition.errorMessage}
            </if>
        </trim>
        <if test="orderBy!=null">
        ORDER BY ${orderBy} ${sortBy}
        </if>
        limit 0,1
    </select>

    <select id="count" resultType="java.lang.Integer">
        SELECT count(id) FROM gk_timerjob
       <where>
           <if test="id!=null">
               ${groupOp} ${id.field} ${id.op}  #{id.data}
           </if>
           <if test="status!=null">
               ${groupOp} ${status.field} ${status.op}  #{status.data}
           </if>
           <if test="createTime!=null">
               ${groupOp} ${createTime.field} ${createTime.op}  #{createTime.data}
           </if>
           <if test="updateTime!=null">
               ${groupOp} ${updateTime.field} ${updateTime.op}  #{updateTime.data}
           </if>
           <if test="name!=null">
               ${groupOp} ${name.field} ${name.op}  #{name.data}
           </if>
           <if test="group!=null">
               ${groupOp} ${group.field} ${group.op}  #{group.data}
           </if>
           <if test="cronExpression!=null">
               ${groupOp} ${cronExpression.field} ${cronExpression.op}  #{cronExpression.data}
           </if>
           <if test="desc!=null">
               ${groupOp} ${desc.field} ${desc.op}  #{desc.data}
           </if>
           <if test="async!=null">
               ${groupOp} ${async.field} ${async.op}  #{async.data}
           </if>
           <if test="className!=null">
               ${groupOp} ${className.field} ${className.op}  #{className.data}
           </if>
           <if test="executeTime!=null">
               ${groupOp} ${executeTime.field} ${executeTime.op}  #{executeTime.data}
           </if>
           <if test="executeNum!=null">
               ${groupOp} ${executeNum.field} ${executeNum.op}  #{executeNum.data}
           </if>
           <if test="errorMessage!=null">
               ${groupOp} ${errorMessage.field} ${errorMessage.op}  #{errorMessage.data}
           </if>

       </where>
    </select>

    <select id="selectMaxId" resultType="java.lang.Long">
        SELECT
        MAX(id)
        FROM gk_timerjob
    </select>

</mapper>


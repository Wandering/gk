define(function(e){function t(){s.getJSON("/before/video/getSubjectList.do",function(e){if("0000000"==e.rtnCode)for(var t=e.bizData,a=0;a<t.length;a++){var n=t[a].subjectName,i=t[a].subjectId,o='<option value="'+i+'">'+n+"</option>";s(".subjectList").append(o)}})}function a(e,t,a){s.getJSON("/before/video/getVideoList.do",{pageNo:0,pageSize:4,classifyType:1,sortType:1,subjectId:"",teacherSearchName:a},function(a){if(console.log(a),"0800001"==a.rtnCode&&(n.$listMsgItem.append('<p class="noContent">'+a.msg+"</p>"),n.$nextPage.hide()),"0000000"==a.rtnCode){var s=a.bizData;s.length>0&&n.$nextPage.show();for(var i=0;i<s.length;i++){var o=s[i].subjectName,c=s[i].teacherName,r=s[i].hit,l=s[i].subcontent,g="";g=null==s[i].frontCover||""==s[i].frontCover?"/static/dist/common/images/video-default.png":s[i].frontCover;var d='<li class="item"><div class="img"><img src="'+frontCover+'" alt=""/></div><div class="info"><span class="fl">学科名称:'+o+'</span><span class="fr">主讲专家:'+c+'</span></div><div class="num"><span class="fl">点击量:'+r+'</span></div><p class="txt">'+l+'</p><div class="funs"><a href="" class="btn">点击播放</a></div></li>';n.$listMsgItem.append(d)}e++,n.$listMsgItem.attr("pageNo",e),s.length<t&&n.$nextPage.removeClass("btn-primary").text("没有更多消息了")}})}var s=e("$");e("swiper"),e("backToTop"),e("getTime");var n={$listMsgItem:s("#list-msg-item"),$nextPage:s("#nextPage")},i=8,o=window.location.search,c=o.indexOf("?"),r=o.substr(c+19);s("#searchVal").val(r),s("#search-btn").on("click",function(){window.location.href="/before/teacher-lecture.jsp?teacherSearchName="+s("#searchVal").val()}),t();s("#searchVal").val();n.$nextPage.on("click",function(){var e=n.$listMsgItem.attr("pageNo");a(e,i,r)}).click()});
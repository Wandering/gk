define(function(e){function t(){s.getJSON("/before/video/getSubjectList.do",function(e){if("0000000"==e.rtnCode){for(var t=e.bizData,a=0;a<t.length;a++){var n=t[a].subjectName,i=t[a].subjectId,o='<li id="'+i+'">'+n+"</li>";s(".subjectList").append(o)}s(".subjectList").find("li:eq(0)").click()}})}function a(e,t,a){s(e).html("").hide(),s.getJSON("/before/video/getVideoList.do",{pageNo:0,pageSize:4,classifyType:a,sortType:1,subjectId:t},function(t){if("0800001"==t.rtnCode&&s(e).append('<p class="noContent">'+t.msg+"</p>").fadeIn(500),"0000000"==t.rtnCode)for(var n=t.bizData,o=0;o<n.length;o++){var c=n[o].subjectName,r=n[o].teacherName,l=n[o].courseId,d=n[o].hit,u=n[o].subcontent,p="/before/teacher-lecture-play.jsp?classifyType="+a+"&courseId="+l,f="";f=null==n[o].frontCover||""==n[o].frontCover?"/static/dist/common/images/video-default.png":i+n[o].frontCover;var v='<li class="item"><div class="img"><img src="'+f+'" alt=""/></div><div class="info"><span class="fl">学科名称:'+c+'</span><span class="fr">主讲专家:'+r+'</span></div><div class="num"><span class="fl">点击量:'+d+'</span></div><p class="txt">'+u+'</p><div class="funs"><a target="_blank" href="'+p+'" class="btn">点击播放</a></div></li>';s(e).append(v).fadeIn(500)}})}function n(e,t,a){s(e).html("").hide(),s.getJSON("/before/paper/getPaperList.do",{pageNo:0,pageSize:8,years:"2014",sortType:1,subjectId:t},function(t){if("0800001"==t.rtnCode&&s(e).append('<p class="noContent">'+t.msg+"</p>").fadeIn(500),"0000000"==t.rtnCode)for(var n=t.bizData,i=0;i<n.length;i++){var o=n[i].paperName,c=n[i].createDate,r=n[i].resources,l='<li class="item"><a target="_blank" href="'+r+'"><span class="subject-n"><strong>'+a+'</strong></span><span class="subject-t">'+o+'</span><span class="subject-d">上传时间：'+getTime(c)+"</span></a></li>";s(e).append(l).fadeIn(500)}})}var s=e("$");e("swiper"),e("getTime"),e("backToTop"),s(".tabs-list").on("click","li",function(){s(this).addClass("active").siblings().removeClass("active");var e=s(this).attr("id"),t=s(this).parent().attr("classifyType"),i=s(this).text();"1"==t&&a("#teacher-lecture-main",e,1),"2"==t&&a("#mentality-main",e,2),"3"==t&&n("#exam-main",e,i)});var i="http://www.gkzy114.com";t(),s("#teacher-lecture-search-btn").on("click",function(){var e=s("#teacher-lecture-search-input").val();window.open("/before/teacher-lecture.jsp?classifyType=1&searchV="+e)}),s("#exam-search-btn").on("click",function(){var e=s("#exam-search-input").val();window.open("/before/exam.jsp?searchV="+e)}),s("#mentality-search-btn").on("click",function(){var e=s("#mentality-search-input").val();window.open("/before/mentality.jsp?classifyType=2&searchV="+e)}),s("#main-volunteer-tabs").on("click","li",function(){s(this).addClass("active").siblings().removeClass("active");var e=s(this).index();s(".main-volunteer-box:eq("+e+")").show().siblings(".main-volunteer-box").hide()}),s("#evaluating-sub").on("click",function(){s(".tansLayer,.evaluating-layer").show()}),s(".evaluating-layer").on("click",".close-btn",function(){s(".tansLayer,.evaluating-layer").hide()}),s("#volunteer-flow").on("click",function(){s("#main-volunteer-tabs li").eq(1).click(),s("html,body").animate({scrollTop:s("#main-volunteer-box").offset().top},800)});var o=window.location.search,c=o.substr(14,1);"4"==c&&(s("#main-volunteer-tabs li").eq(1).click(),s("html,body").animate({scrollTop:s("#main-volunteer-box").offset().top},800)),s("#yxtj-sub").on("click",function(){var e=s("#score-input").val().trim(),t=s('input[name="batch"]:checked').val(),a=s('input[name="subjectType"]:checked').val();return""==e?(s(".error-tips").text("请输入分数").fadeIn(1e3).fadeOut(2e3),!1):void 0==t?(s(".error-tips").text("请选择批次").fadeIn(1e3).fadeOut(2e3),!1):void 0==a?(s(".error-tips").text("请选择文理科").fadeIn(1e3).fadeOut(2e3),!1):void s.ajax({url:"/before/collegeRecommend/getCollegeList.do",type:"GET",dataType:"JSON",data:{m_aggregateScore:e,m_batch:t,m_kelei:a},success:function(n){if("0000000"==n.rtnCode){s("#volunteer-flow3-layer,.tansLayer").show(),s("#score-num").text(e+"分"),s("#batchV").text(t),s("#subjectTypeV").text(a);for(var i=n.bizData.result.data,o=0;o<i.length;o++)if(0==i[o].status)s("#no-school"+o).show();else for(var c=i[o].data,r=0;r<c.length;r++){var l=c[r].m_university_code,d=c[r].m_university_name,u='<div><a target="_blank" href="/consult/school_detile.jsp?id='+l+'">'+d+"</a></div>";s("#school-list"+o).append(u).show()}}}})}),s("#volunteer-flow3-layer").on("click",".close-btn",function(){s("#volunteer-flow3-layer,.tansLayer").hide()})});
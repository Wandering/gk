define(function(e){function t(){a.getJSON("/before/video/getSubjectList.do",function(e){if("0000000"==e.rtnCode)for(var t=e.bizData,s=0;s<t.length;s++){var n=t[s].subjectName,i=t[s].subjectId,o='<option value="'+i+'">'+n+"</option>";a(".subjectList").append(o)}})}function s(e,t){a.getJSON("/before/video/getVideoList.do",{pageNo:0,pageSize:4,classifyType:2,sortType:1,subjectId:"13"},function(s){if(console.log(s),"0800001"==s.rtnCode&&(n.$listMsgItem.append('<p class="noContent">'+s.msg+"</p>"),n.$nextPage.hide()),"0000000"==s.rtnCode){var a=s.bizData;a.length>0&&n.$nextPage.show();for(var i=0;i<a.length;i++){var o=a[i].subjectName,l=a[i].teacherName,c=a[i].hit,r=a[i].subcontent,g="";g=null==a[i].frontCover||""==a[i].frontCover?"/static/dist/common/images/video-default.png":a[i].frontCover;var p='<li class="item"><div class="img"><img src="'+g+'" alt=""/></div><div class="info"><span class="fl">学科名称:'+o+'</span><span class="fr">主讲专家:'+l+'</span></div><div class="num"><span class="fl">点击量:'+c+'</span></div><p class="txt">'+r+'</p><div class="funs"><a href="" class="btn">点击播放</a></div></li>';n.$listMsgItem.append(p)}e++,n.$listMsgItem.attr("pageNo",e),a.length<t&&n.$nextPage.removeClass("btn-primary").text("没有更多消息了")}})}var a=e("$");e("swiper"),e("backToTop"),e("getTime");var n={$listMsgItem:a("#list-msg-item"),$nextPage:a("#nextPage")};t();var i=8;n.$nextPage.on("click",function(){var e=n.$listMsgItem.attr("pageNo");s(e,i)}).click()});
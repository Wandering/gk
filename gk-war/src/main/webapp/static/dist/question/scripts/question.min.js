define(function(s){function e(s){var e=new RegExp("(^|\\?|&)"+s+"=([^&]*)(\\s|&|$)","i");return e.test(window.location.href)?unescape(RegExp.$2.replace(/\+/g," ")):""}var t=s("$");s("swiper");var i={startSize:0,endSize:0,renderAsk:function(s){for(var e=[],i=0,n=s.length;n>i;i++){var a=s[i].question;if(a){e.push('<section class="ask-answer mt20">'),e.push('<a target="_blank" href="/question/question_detile.jsp?id='+a.userId+'"><div class="ask mt20">'),e.push('<div class="head-img">'),e.push('<img src="'+a.userIcon||'" />'),e.push("</div>"),e.push('<div class="head-info">'),e.push("<h6>来自 "+a.userName||"匿名专家"+new Date(a.answerTime).Format("yyyy-MM-dd hh-mm")+"</h6>");for(var r=a.questions,u=[],i=0,n=r.length;n>i;i++)u.push(r[i].text);e.push("<h3>"+u.join("")+"</h3>"),e.push("</div></div></a>")}var h=s[i].answer;h&&e.push(this.renderAnswer(h)),e.push("</section>")}t("#question_content").html(e.join(""))},renderAnswer:function(s){var e=[];e.push('<ul class="answer-list">'),e.push("<li>"),e.push('<div class="left">'),e.push('<div class="head-img">'),e.push('<img src="'+s.userIcon+'" />'),e.push('<i class="star"></i>'),e.push("</div>"),e.push("<span>"+s.userName+"</span>"),e.push("</div>");for(var t=s.answers,i=[],n=0,a=t.length;a>n;n++)i.push("<p>"+t[n].text+"</p>"),i.push('<p class="ta"><img src="'+t[n].img+'" /></p>');e.push('<div class="right">'+i.join("")+"</div>"),e.push("</li></ul>")},getNew:function(s,e){var i=this;t.get("/question/newQuestion.do?startSize="+s+"&endSize="+e,function(s){"0000000"===s.rtnCode&&i.renderAsk(s.bizData)})},getHot:function(s,e){var i=this;t.get("/question/hotQuestion.do?startSize="+s+"&endSize="+e,function(s){"0000000"===s.rtnCode&&i.renderAsk(s.bizData)})},getSearch:function(){t.get("",function(s){})}};t(document).ready(function(){var s=e("keywords");s?t("#tabs_list").hide():(t("#tabs_list").show(),i.getNew(0,10),t(".tabs-list li").on("mouseover",function(s){t(this).hasClass("active")||(t(this).addClass("active").siblings().removeClass("active"),i[t(this).attr("data-method")](0,10))}))})});
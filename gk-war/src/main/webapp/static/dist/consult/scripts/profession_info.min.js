define(function(a){var e=a("$");a("swiper");var s={curPage:1,totalPage:0,render:function(a){var s=[],t=[],i=[],n=0,o=a.length;for(s.push('<a class="both active">全部</a>'),t.push('<a class="both active">全部</a>'),i.push('<a class="both active">全部</a>');o>n;n++){s.push('<a data-id="'+a[n].id+'">'+a[n].name+"</a>");for(var r=a[n].subjectType,c=0,d=r.length;d>c;c++){t.push('<a class="'+a[n].id+'" data-id="'+r[c].id+'">'+r[c].name+"</a>");for(var h=r[c].majoredType,l=0,v=h.length;v>l;l++)i.push('<a class="'+r[c].id+'" data-id="'+h[l].id+'">'+h[l].name+"</a>")}}e("#batch").html(s.join("")),e("#classify").html(t.join("")),e("#profession").html(i.join("")),this.addEventHandle(),this.getProfession(1)},addEventHandle:function(){var a=this;e("#batch a").on("click",function(s){if(!e(this).hasClass("active")){e(this).addClass("active").siblings().removeClass("active");var t=e(this).attr("data-id");t?e("#classify a."+t).show().siblings().hide():e("#classify a").show(),e("#classify a.both").show().addClass("active").siblings().removeClass("active"),e("#profession_content").hide(),e("#profession a").removeClass("active"),a.getProfession(1)}}),e("#classify a").on("click",function(s){if(!e(this).hasClass("active")){e(this).addClass("active").siblings().removeClass("active");var t=e(this).attr("data-id");e("#profession a").removeClass("active"),t?(e("#profession_content").show(),e("#profession a").hide(),e("#profession a."+t).show(),e("#profession a.both").show().addClass("active")):e("#profession_content").hide(),a.getProfession(1)}}),e("#profession a").on("click",function(s){return e(this).hasClass("active")?void 0:(e(this).addClass("active").siblings().removeClass("active"),void a.getProfession(1))})},getOptions:function(){var a=this;a.render(t.batchType)},getProfession:function(a){var s=(e("#batch a.active").attr("data-id"),e("#batch a.active").text());"全部"===s&&(s="");var t=(e("#classify a.active").attr("data-id"),e("#classify a.active").text());"全部"===t&&(t="");var n=e("#profession a.active"),o="",r="";n[0]&&(o=n.attr("data-id"),r=n.text(),"全部"===r&&(r=""));var c=(e("#search").val(),this),d=i.subjectList;c.renderProfessionList(d),1==a&&c.renderPage(1,i.pageCount)},renderProfessionList:function(a){var s=[],t=0,i=a.length;for(s.push('<table border="0" cellpadding="0" cellspacing="0"><thead><tr><th class="name">专业名称</th><th>计划人数</th><th>学制</th><th>外语语种</th><th>收费标准</th><th>开设院校</th></tr></thead><tbody>');i>t;t++){var n=t%2!=0?"active":"";s.push('<tr class="'+n+'"><td class="name"><a href="/consult/profession_detile.jsp?id='+a[t].code+'">'+a[t].name+"</a></td><td>"+a[t].planNumber+"</td><td>"+a[t].schoolLength+"</td><td>"+a[t].foreginLanguage+"</td><td>"+a[t].feeStandard+'</td><td><a href="/consult/school_detile.jsp?id='+a[t].universityCode+'">'+a[t].universityName+"</a></td></tr>")}s.push("</tbody></table>"),e("#profession_list").html(s.join(""))},renderPage:function(a,s){this.totalPage=Math.ceil(s/10);var t=[],i=10*(a-1)+1;t.push('<span class="record">共'+s+'条记录 <span class="startNum">'+i+"</span>/"+s+"</span>"),t.push('<a class="previous-page">上一页</a>');for(var n=0;n<this.totalPage;n++){var o=n+1;a==o?t.push('<a class="active">'+o+"</a>"):t.push("<a>"+o+"</a>")}t.push('<a class="next-page">下一页</a>'),e("#page").html(t.join("")),this.pageEventHandle()},pageEventHandle:function(){var a=this;e("#page a").on("click",function(s){if(!e(this).hasClass("active")&&(e(this).addClass("active").siblings().removeClass("active"),e(this).hasClass("previous-page")?a.curPage--:e(this).hasClass("next-page")?a.curPage++:a.curPage=parseInt(e(this).text()),a.curPage>0&&a.curPage<=a.totalPage)){var t=10*(a.curPage-1)+1;e(".startNum").text(t),a.getProfession(a.curPage)}})}},t={batchType:[{id:1,name:"一批本科",subjectType:[{id:1,name:"试验班1",majoredType:[{id:1,name:"科学技术类"},{id:2,name:"科学技术类2"}]}]},{id:2,name:"二批本科",subjectType:[{id:2,name:"试验班2",majoredType:[{id:3,name:"医学技术类"},{id:4,name:"医学技术类2"}]}]}]},i={pageCount:20,currentPage:2,subjectList:[{code:1,name:"土木工程",planNumber:12,schoolLength:"四年制",foreginLanguage:"英语",feeStandard:"4500/年",universityCode:1022,universityName:"解放军理工大学"},{code:2,name:"软件工程",planNumber:10,schoolLength:"四年制",foreginLanguage:"英语",feeStandard:"4500/年",universityCode:1022,universityName:"解放军理工大学"}]};e(document).ready(function(){s.getOptions()})});
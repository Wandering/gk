define(function(t){var e=t("$");t("swiper");var l={getBasicInfo:function(){e.get("",function(t){"0000000"===t.rtnCode})},renderInfo:function(t){e("#info_content").html('<img class="fl" src="'+t.universityImage+'" /><div class="info"><ul><li class="school-name">'+t.name+"</li><li>所在省份："+t.provinceName+"</li><li>院校隶属："+t.subjection+"</li><li>学历层次："+t.educatLevel+"</li><li>院校特征："+t.property+"</li><li>院校类型："+t.universityType+'</li><li>院校网址：<a href="'+t.url+'">'+t.url+"</a></li><li>院校地址："+t.address+"</li><li>联系电话：<span>"+t.contactPhone+"</span></li></ul></div>")},getSchoolInfo:function(){e.get("",function(t){"0000000"===t.rtnCode})},renderSchool:function(t){for(var l=[],a=[],n=0,o=t.length;o>n;n++){l.push("<li>"+t[n].title+"</li>");var s=t[n].infos;a.push('<div style="display:none" class="school-table mt20" id="school_table_'+n+'"><table border="0" cellpadding="0" cellspacing="0"><thead><tr><th></th><th>计划数</th><th>录取数</th><th>最高分</th><th>最高位次</th><th>最低分</th><th>最低位次</th><th>平均分</th><th>平均分位次</th></tr></thead><tbody>');for(var i=0,r=s.length;r>i;i++)a.push("<tr><td>"+s[i].subjectName+"</td><td>"+s[i].planNumber+"</td><td>"+s[i].enrollNumber+"</td><td>"+s[i].highestScore+"</td><td>"+s[i].highestRank+"</td><td>"+s[i].lowestScore+"</td><td>"+s[i].lowestRank+"</td><td>"+s[i].averageScore+"</td><td>"+s[i].averageRank+"</td></tr>");a.push("</tbody></table></div>")}e("#tabs_list_last").html(l.join("")),e("#last_content").html(a.join("")),e("#tabs_list_last li").first().addClass("active");var h=e("#tabs_list_last li.active").text();this.setCategory(h),e("#school_table_0").show(),this.addSchoolEventHandle()},addSchoolEventHandle:function(){e("#tabs_list_last li").on("mouseover",function(){e(this).hasClass("active")||(e(this).addClass("active").siblings().removeClass("active"),e("#school_table_"+e(this).index()).show().siblings().hide())})},getEnroll:function(){e.get("",function(t){"0000000"===t.rtnCode})},renderEnroll:function(t){for(var l=t.enrollPlan,a=[],n=[],o=0,s=l.length;s>o;o++){a.push("<li>"+l[o].title+"</li>");var i=l[o].planInfos;n.push('<div style="display:none" class="school-table mt20" id="enroll_table_'+o+'"><table border="0" cellpadding="0" cellspacing="0"><thead><tr><th>专业名称</th><th>批次</th><th>科类</th><th>计划人数</th><th>学制</th><th>收费标准</th></tr></thead><tbody>');for(var r=0,h=i.length;h>r;r++)n.push("<tr><td>"+i[r].majoredName+"</td><td>"+i[r].batch+"</td><td>"+i[r].subject+"</td><td>"+i[r].planNumber+"</td><td>"+i[r].schoolLength+"</td><td>"+i[r].feeStandard+"</td></tr>");n.push("</tbody></table></div>")}a.push("<li>招生章程</li>"),n.push('<div style="display:none" class="school-table mt20" id="enroll_table_'+o+'">'+t.entroIntro+"</div>"),o++,a.push("<li>院校简介</li>"),n.push('<div style="display:none" class="school-table mt20" id="enroll_table_'+o+'">'+t.universityIntro+"</div>"),e("#tabs_list_enroll").html(a.join("")),e("#enroll_content").html(n.join("")),e("#tabs_list_enroll li").first().addClass("active"),e("#enroll_table_0").show(),this.addEnrollEventHandle()},addEnrollEventHandle:function(){var t=this;e("#tabs_list_enroll li").on("mouseover",function(){if(!e(this).hasClass("fr")&&!e(this).hasClass("active")){e(this).addClass("active").siblings().removeClass("active");var l=e(this).text(),a=e(this).index();t.setCategory(l),e("#enroll_table_"+a).show().siblings().hide()}})},setCategory:function(t){"招生章程"===t||"院校简介"===t?e("#category").hide():e("#category").show()},categoryHandle:function(){e("#category button").on("click",function(t){e(this).addClass("active").siblings().removeClass("active")})},filterEnroll:function(t){}},a={code:10,name:"北京大学",subjection:"教育部直属",educatLevel:"本科",universityType:"综合",property:"985,211,研",address:"北京市海淀区颐和园路5号",contactPhone:"010-62751407",universityImage:"http://himg.bdimg.com/sys/portrait/item/c68b4a737048696265726e6174655374d718.jpg",provinceName:"北京",url:"http://www.baidu.com"},n={enrollInfo:[{title:"2014年招生情况",infos:[{subjectName:"文科",planNumber:20,enrollNumber:10,highestScore:666,highestRank:1,lowestScore:500,lowestRank:26,averageScore:580,averageRank:12},{subjectName:"理科",planNumber:15,enrollNumber:8,highestScore:616,highestRank:1,lowestScore:520,lowestRank:16,averageScore:560,averageRank:10}]},{title:"2013年招生情况",infos:[{subjectName:"文科",planNumber:20,enrollNumber:20,highestScore:566,highestRank:1,lowestScore:600,lowestRank:26,averageScore:680,averageRank:14},{subjectName:"理科",planNumber:15,enrollNumber:10,highestScore:616,highestRank:1,lowestScore:520,lowestRank:16,averageScore:560,averageRank:10}]}]},o={enrollPlan:[{title:"2015招生计划",planInfos:[{majoredName:"材料类",batch:"一批本科",subject:"理科",planNumber:20,schoolLength:"四年",feeStandard:"12000/年"}]},{title:"2014招生计划",planInfos:[{majoredName:"材料类",batch:"一批本科",subject:"理科",planNumber:10,schoolLength:"四年",feeStandard:"10000/年"}]}],entroIntro:"<p> 北京大学招生简介</p>",universityIntro:"<p> 北京大学介绍</p>"};e(document).ready(function(){l.renderInfo(a),l.renderSchool(n.enrollInfo),l.renderEnroll(o)})});
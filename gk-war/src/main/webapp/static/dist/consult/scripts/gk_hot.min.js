define(function(t){var e=t("$");t("swiper"),t("backToTop");var n=function(t,e){var n,a=new RegExp("(^|)"+e+"=([^&]*)(&|$)","g").exec(t);return(n=a)?n[2]:""},a={nextBtn:e(".next-btn"),render:function(t,n){for(var a=[],r=0,i=t.length;i>r;r++){a.push('<a href="/consult/gk_hot_detile.jsp?method=hot&id='+t[r].id+'"><div class="detile-content mt20">'),a.push('<div class="detile-header">');var o=r+1+4*(n-1);a.push('<span class="order-number">'+o+"</span>"),a.push('<span class="detile-title">'+t[r].hotInformation+"</span>");var s=new Date(t[r].lastModDate).Format("yyyy-MM-dd hh:mm");a.push('<span class="fr">上传时间：'+s+"</span>"),a.push("</div>"),a.push('<div class="detile-info mt20">'),a.push(t[r].informationSubContent),a.push("</div>"),a.push("</div></a>")}1==n?e("#wrapper").html(a.join("")):e("#wrapper").append(a.join(""))},getData:function(t){var n=this;e.get("/gkinformation/getAllInformation.do?pageNo="+(t-1),function(a){if("0000000"===a.rtnCode){if(a.bizData.length<=0)return 1==t?(n.nextBtn.hide(),void e("#wrapper").html('<p style="margin: 20px 0; text-align: center">暂无信息！</p>')):void n.nextBtn.addClass("none").text("没有更多可加载！");1==t&&n.nextBtn.show(),n.nextBtn.attr("data-page",t),n.render(a.bizData,t)}else n.nextBtn.addClass("none").text("没有更多可加载！")})},nextPageHandle:function(){var t=this;this.nextBtn.on("click",function(n){if(!e(this).hasClass("none")){var a=e("#key_words").val();a?t.getSearch(parseInt(e(this).attr("data-page"))+1,a):t.getData(parseInt(e(this).attr("data-page"))+1)}})},getSearch:function(t,n){var a=this;e.get("/gkinformation/getInformationByKey.do?pageNO="+t+"&key="+n,function(n){if("0000000"===n.rtnCode){if(n.bizData.length<=0)return 1==t?(a.nextBtn.hide(),void e("#wrapper").html('<p style="margin: 20px 0; text-align: center">没有搜索到可用的信息！ </p>')):void a.nextBtn.addClass("none").text("没有更多可加载！");a.nextBtn.show(),a.nextBtn.attr("data-page",t),a.render(n.bizData,t)}else a.nextBtn.addClass("none").text("没有更多可加载！")})}};e(document).ready(function(){var t=decodeURIComponent(n(window.location.href,"val"));t?(e("#key_words").val(t),a.getSearch(1,t)):a.getData(1),a.nextPageHandle(),e("#search").on("click",function(t){e(".next-btn").removeClass("none").text("加载更多...");var n=e("#key_words").val();n?a.getSearch(1,n):a.getData(1)})})});
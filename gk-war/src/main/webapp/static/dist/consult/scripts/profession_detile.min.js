define(function(e){function t(e){var t=new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i");return t.test(window.location.href)?unescape(RegExp.$2.replace(/\+/g," ")):""}var n=e("$");e("swiper");var a={getProfessionInfo:function(e){var t=this;n.ajax({type:"post",url:"/majored/getMajoredInfo.do",contentType:"application/x-www-form-urlencoded;charset=utf-8",data:{code:e},dataType:"json",success:function(e){"0000000"===e.rtnCode&&t.renderInfo(e.bizData)},error:function(e){}})},renderInfo:function(e){n("#info_content").html('<img class="fl" src="'+e.universityImage+'" /><div class="info"><ul><li class="school-name">'+e.name+"</li><li>学历层次："+e.educationLevel+"</li><li>学科门类："+e.subjectType+"</li><li>专业分类："+e.majoredType+"</li><li>授予学位："+e.degree+"</li></ul></div>")},getReationInfo:function(e){var t=this;n.ajax({type:"post",url:"/majored/getMajoredDetail.do",contentType:"application/x-www-form-urlencoded;charset=utf-8",data:{code:e},dataType:"json",success:function(e){"0000000"===e.rtnCode&&(t.renderReation(e.bizData),n("#tab_0").show(),t.addEventHandleTab())},error:function(e){}})},addEventHandleTab:function(){n(".tabs-list li").on("mouseover",function(e){n(this).hasClass("active")||(n(this).addClass("active").siblings().removeClass("active"),n("#tab_"+n(this).index()).show().siblings().hide())})},renderReation:function(e){n("#tab_0").html('<p class="article">'+e.similarMajor+"</p>"),n("#tab_1").html('<p class="article">'+e.mainCourse+"</p>"),n("#tab_2").html('<p class="article">'+e.workGuide+"</p>");for(var t=e.openUniversity,a=[],i=0,o=t.length;o>i;i++){a.push("<h5>"+t[i].universityType+"</h5>");var s=t[i].universityLs;if(s.length>0){a.push("<ul>");for(var r=0,l=s.length;l>r;r++)a.push('<li><a href="/consult/school_detile.jsp?id='+s[r].code+'">'+s[r].name+"</a></li>");a.push("</ul>")}}n("#tab_3").html(a.join(""))}};n(document).ready(function(){var e=t("id");a.getProfessionInfo(e),a.getReationInfo(e)})});
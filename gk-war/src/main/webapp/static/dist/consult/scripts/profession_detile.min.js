define(function(e){function n(e){var n=new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i");return n.test(window.location.href)?unescape(RegExp.$2.replace(/\+/g," ")):""}var t=e("$");e("swiper");var a={getProfessionInfo:function(e){var n=this;t.ajax({type:"post",url:"/majored/getMajoredInfo.do",contentType:"application/x-www-form-urlencoded;charset=utf-8",data:{code:e},dataType:"json",success:function(e){"0000000"===e.rtnCode&&n.renderInfo(e.bizData)},error:function(e){}})},renderInfo:function(e){t("#info_content").html('<img class="fl" src="'+(e.universityImage||"/static/src/common/images/kqbk_banner_default.png")+'" /><div class="info"><ul><li class="school-name">'+e.name+"</li><li>学历层次："+e.educationLevel+"</li><li>学科门类："+e.subjectType+"</li><li>专业分类："+e.majoredType+"</li><li>授予学位："+e.degree+"</li></ul></div>")},getReationInfo:function(e){var n=this;t.ajax({type:"post",url:"/majored/getMajoredDetail.do",contentType:"application/x-www-form-urlencoded;charset=utf-8",data:{code:e},dataType:"json",success:function(e){"0000000"===e.rtnCode&&(n.renderReation(e.bizData),t("#tab_0").show(),n.addEventHandleTab())},error:function(e){}})},addEventHandleTab:function(){t(".tabs-list li").on("mouseover",function(e){t(this).hasClass("active")||(t(this).addClass("active").siblings().removeClass("active"),t("#tab_"+t(this).index()).show().siblings().hide())})},renderReation:function(e){t("#tab_0").html('<p class="article">'+(e.similarMajor||"暂无信息！")+"</p>"),t("#tab_1").html('<p class="article">'+(e.mainCourse||"暂无信息！")+"</p>"),t("#tab_2").html('<p class="article">'+(e.workGuide||"暂无信息！")+"</p>");for(var n=e.openUniversity,a=[],i=0,o=n.length;o>i;i++){a.push("<h5>"+n[i].universityType+"</h5>");var s=n[i].universityLs;if(s.length>0){a.push("<ul>");for(var r=0,l=s.length;l>r;r++)a.push('<li><a href="/consult/school_detile.jsp?id='+s[r].code+'">'+s[r].name+"</a></li>");a.push("</ul>")}}t("#tab_3").html(a.join(""))}};t(document).ready(function(){var e=n("id");a.getProfessionInfo(e),a.getReationInfo(e)})});
define(function(e){function n(e){var n=new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i");return n.test(window.location.href)?unescape(RegExp.$2.replace(/\+/g," ")):""}var t=e("$");e("swiper");var i={getProfessionInfo:function(e){var n=this;t.ajax({type:"post",url:"/majored/getMajoredInfo.do",contentType:"application/x-www-form-urlencoded;charset=utf-8",data:{code:e},dataType:"json",success:function(e){"0000000"===e.rtnCode&&n.renderInfo(e.bizData)},error:function(e){}})},renderInfo:function(e){t("#info_content").html('<img class="fl" src="'+(e.universityImage||"/static/src/common/images/kqbk_banner_default.png")+'" /><div class="info"><ul><li class="school-name">'+e.name+"</li><li>学历层次："+e.educationLevel+"</li><li>学科门类："+e.subjectType+"</li><li>专业分类："+e.majoredType+"</li><li>授予学位："+e.degree+"</li></ul></div>")},getReationInfo:function(e){var n=this;t.ajax({type:"post",url:"/majored/getMajoredDetail.do",contentType:"application/x-www-form-urlencoded;charset=utf-8",data:{code:e},dataType:"json",success:function(e){"0000000"===e.rtnCode&&(n.renderReation(e.bizData),t("#tab_0").show(),n.addEventHandleTab())},error:function(e){}})},addEventHandleTab:function(){t(".tabs-list li").on("mouseover",function(e){t(this).hasClass("active")||(t(this).addClass("active").siblings().removeClass("active"),t("#tab_"+t(this).index()).show().siblings().hide())})},renderList:function(e){var n=[];return n.push("<ul>"),t.each(e,function(e,t){n.push("<li>"+t+"</li>")}),n.push("</ul>"),n.join("")},renderReation:function(e){var n=e.similarMajor?e.similarMajor.split("丨"):[],i=e.mainCourse?e.mainCourse.split("丨"):[],a='<p class="article">暂无信息！</p>';t("#tab_0").html(this.renderList(n)||a),t("#tab_1").html(this.renderList(i)||a),t("#tab_2").html('<p class="article">'+(e.workGuide||"暂无信息！")+"</p>");for(var o=e.openUniversity,s=[],r=0,l=o.length;l>r;r++){s.push("<h5>"+o[r].universityType+"</h5>");var c=o[r].universityLs;if(c.length>0){s.push("<ul>");for(var u=0,d=c.length;d>u;u++)s.push('<li><a href="/consult/school_detile.jsp?id='+c[u].code+'">'+c[u].name+"</a></li>");s.push("</ul>")}}t("#tab_3").html(s.join(""))}};t(document).ready(function(){var e=n("id");i.getProfessionInfo(e),i.getReationInfo(e)})});
define(function(e){var t=e("$");e("backToTop"),t(function(){function e(e){e.on("click",function(){e.attr("src","/verifyCode/randomVerifyCode.do?type=4&code="+Math.random())}).attr("src","/verifyCode/randomVerifyCode.do?type=4")}function o(e){t(".error-tips").text(e).fadeIn(1e3).fadeOut(1e3)}var n={yzmDreamSchool:t("#yzmDreamSchool"),volunteerBtn:t("#volunteer-flow1-btn"),schoolListinfo:t("#school-list-info")};e(n.yzmDreamSchool),n.volunteerBtn.on("click",function(){var e=t("#candidateNumber-input").val().trim(),a=t("#aggregateScore-input").val().trim(),r=t("#ranking-input").val().trim(),i=t('input[name="subjectType"]:checked').val(),c=t("#yzmDreamSchool-input").val().trim(),l=/^[0-9]*[1-9][0-9]*$/;return""==e?(o("请输入考号"),!1):0==l.test(e)||10!=e.length?(o("请输入10位数字考号"),!1):""==a?(o("请输入分数"),!1):0==l.test(a)||3!=a.length?(o("请输入3位数字分数"),!1):""==r?(o("请输入位次"),!1):0==l.test(r)||r.length>6?(o("请输入小于6位数字位次"),!1):void 0==i?(o("选择文理科"),!1):""==c?(o("请填写验证码"),!1):void t.ajax({url:"/guide/batch.do",type:"GET",dataType:"JSON",data:{m_candidateNumber:e,m_aggregateScore:a,m_ranking:r,m_kelei:i,code:c},success:function(c){if(console.log(c),"0100006"==c.rtnCode||"1000004"==c.rtnCode||"0100005"==c.rtnCode)return o(c.msg),!1;if("0000000"==c.rtnCode){n.schoolListinfo.html("");var l=t.parseJSON(c.bizData);if(console.log(c),console.log(l.data),console.log(l.related),!l.data)return o("该分数暂无数据"),!1;t("#volunteer-flow1").hide(),t("#volunteer-flow2").show(),t("#scoresNum").text(a+"分"),t("#subType").text(i+"类"),t.each(l.data,function(o,c){t("#batch").text(l.data[0].m_batch);var d={m_candidateNumber:e,m_aggregateScore:a,m_ranking:r,m_kelei:i,m_batch_id:c.m_batch_id,m_batch:c.m_batch,m_province_id:"",m_province:"陕西",m_specialty_id:"",m_specialty_name:"",m_favorites_by_university_codes:""},m=JSON.stringify(d),s='<div class="info2"><h3>普通'+c.m_batch+"院校</h3>"+c.m_years_fl+"：<strong>"+c.m_liberalarts+"分</strong>，<strong>"+c.m_science+'分</strong><form id="forwardForm" method="post" action="/forward.do"><input type="hidden" name="params" value="'+encodeURIComponent(m)+'" /><input type="hidden" name="url" value="/after/volunteer-flow3.jsp" /><input type="submit" class="btn" value="开始"></a></form></div>';n.schoolListinfo.append(s)})}}})}),t("#prev-btn").on("click",function(){t("#volunteer-flow1").show(),t("#volunteer-flow2").hide(),n.yzmDreamSchool.click()})})});
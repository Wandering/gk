define(function(e){var t=e("$");t("#submit-btn").click(function(){var e=t(".data-start").val(),n=t(".data-end").val(),a=Date.parse(new Date(e))/1e3,r=Date.parse(new Date(n))/1e3,i=t(".order-theme").val().trim(),d=t("#content").val(),o=t(".name").val(),f=t(".mobile").val(),s=t(".qq").val();if(i.length>50)return t(".error-tips").text("标题字数过长，请输入50字以内").fadeIn(1e3).fadeOut(3e3),!1;if(d.length>5e3)return t(".error-tips").text("预约内容过长，5000字以内").fadeIn(1e3).fadeOut(3e3),!1;if(0==d.length||0==i.length||0==r.length||0==a.length||0==o.length||0==f.length||0==s.length)return t(".error-tips").text("为了保证内容完整性，该表单每项都必填。").fadeIn(1e3).fadeOut(3e3),!1;if(o.length>10)return t(".error-tips").text("姓名不能超过10个字").fadeIn(1e3).fadeOut(3e3),!1;var l=/^\s*[.0-9]{5,11}\s*$/;if(!l.test(s))return t(".error-tips").text("QQ号码输入有误").fadeIn(1e3).fadeOut(3e3),!1;var u=/^0?1[3|4|5|6|7|8][0-9]\d{8}$/;return u.test(f)?void t.ajax({url:"/appointment/addAppointment.do",dataType:"json",type:"post",data:{title:i,content:d,startDate:a,endDate:r,name:o,mobile:f,qq:s},success:function(e){"0000000"==e.rtnCode?(t(".error-tips").text("恭喜你，预约成功").fadeIn(1e3).fadeOut(3e3),window.location.href="http://"+window.location.host+"/user/expert-service.jsp"):t(".error-tips").text("对不起，预约失败").fadeIn(1e3).fadeOut(3e3)}}):(t(".error-tips").text("预约电话号码输入有误").fadeIn(1e3).fadeOut(3e3),!1)}),t("#reset-btn").on("click",function(){t(".content").find("input,textarea").val("")})});
define(function(t){var e=t("$"),n=function(t,e){var n,a=new RegExp("(^|)"+e+"=([^&]*)(&|$)","g").exec(t);return(n=a)?n[2]:""},a={nextBtn:e(".next-btn"),render:function(t,n){for(var a=[],i=0,o=t.length;o>i;i++){a.push('<div class="detile-content mt20">'),a.push('<div class="detile-header">');var r=i+1+10*(n-1);a.push('<span class="order-number">'+r+"</span>"),a.push('<span class="detile-title"><a href="/consult/gk_hot_detail.jsp?method=hot&id='+t[i].id+'">'+t[i].hotInformation+"</a></span>");var s=new Date(t[i].lastModDate).Format("yyyy-MM-dd hh:mm");a.push('<span class="fr">'+s+"</span>"),a.push("</div>"),null==t[i].informationSubContent||""==t[i].informationSubContent.trim()?a.push('<div class="detile-info mt20 hide">'):a.push('<div class="detile-info mt20">'),a.push('<img class="triangle" src="http://cdn.gaokao360.net/static/global/common/images/triangle.png" />'),a.push(t[i].informationSubContent),a.push("</div>"),a.push("</div>")}1==n?e("#wrapper").html(a.join("")):e("#wrapper").append(a.join(""))},getData:function(t){var n=this;e.get("/gkinformation/getAllInformation.do?pageSize=10&pageNo="+(t-1),function(a){if("0000000"===a.rtnCode){if(a.bizData.length<=0)return 1==t?(n.nextBtn.hide(),void e("#wrapper").html('<p style="margin: 20px 0; text-align: center">暂无信息！</p>')):void n.nextBtn.addClass("none").text("没有更多可加载！");1==t&&n.nextBtn.show(),n.nextBtn.attr("data-page",t),n.render(a.bizData,t)}else n.nextBtn.addClass("none").text("没有更多可加载！")})},nextPageHandle:function(){var t=this;this.nextBtn.on("click",function(n){if(!e(this).hasClass("none")){var a=e("#key_words").val();a?t.getSearch(parseInt(e(this).attr("data-page"))+1,a):t.getData(parseInt(e(this).attr("data-page"))+1)}})},getSearch:function(t,n){var a=this;e.get("/gkinformation/getInformationByKey.do?pageSize=10&pageNo="+t+"&key="+n,function(n){if("0000000"===n.rtnCode){if(n.bizData.length<=0)return 1==t?(a.nextBtn.hide(),void e("#wrapper").html('<p style="margin: 20px 0; text-align: center">没有搜索到可用的信息！ </p>')):void a.nextBtn.addClass("none").text("没有更多可加载！");a.nextBtn.show(),a.nextBtn.attr("data-page",t),a.render(n.bizData,t)}else a.nextBtn.addClass("none").text("没有更多可加载！")})}};e(document).ready(function(){var t=decodeURIComponent(n(window.location.href,"val"));t?(e("#key_words").val(t),a.getSearch(1,t)):a.getData(1),a.nextPageHandle(),e("#search").on("click",function(t){e(".next-btn").removeClass("none").text("加载更多...");var n=e("#key_words").val();n?a.getSearch(1,n):a.getData(1)})})});